# Surge 配置
# Date: 2025-08-21
# By: Ding Qinzheng

[General]
# 日志级别
loglevel = notify
show-error-page-for-reject = true
# 允许Wi-Fi访问
allow-wifi-access = false
# All Hybrid 网络并发
all-hybrid = false
# IPv6 支持（默认关闭）
ipv6 = false
# IPv6 VIF（默认禁用）
ipv6-vif = disabled
# 测试超时（秒）
test-timeout = 2
# Internet 测试 URL
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
# 代理测速 URL
proxy-test-url = http://www.gstatic.com/generate_204
# > GeoIP数据库
#geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# 排除简单主机名
exclude-simple-hostnames = true
# DNS 传统服务器
dns-server = 223.5.5.5, 223.6.6.6, 119.29.29.29, 8.8.8.8, system
# DNS 加密服务器
#encrypted-dns-server = https://223.5.5.5/dns-query,https://1.12.12.12/dns-query
# DNS 劫持
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# 是否从 /etc/hosts 读取 DNS 记录
read-etc-hosts = false
# 远程控制器
http-api-web-dashboard = true
use-default-policy-if-wifi-not-primary = false
# 跳过代理
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# Always Real IP
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net, stun.ugreengroup.com
# 兼容模式(若需要使用Homekit摄像头，可以开启兼容模式，但开启兼容模式会导致一些屏蔽广告的模块失效，请自行取舍)
#compatibility-mode = 5
# Surge VIF
#tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
#tun-included-routes = 192.168.1.12/32
# 禁用 GEOIP 自动更新
disable-geoip-db-auto-update = false
# 当节点不支持UDP时，默认fallback 到reject
udp-policy-not-supported-behaviour = reject
# 高级设置 --> 路由 --> 包括所有网络请求（默认false）
include-all-networks = false
# 隐藏VPN图标显示
#hide-vpn-icon=true

[Proxy Group]
节点选择 = select, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", "节点订阅", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png, no-alert=0, hidden=0, include-all-proxies=0
人工智能 = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png
Google = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
GitHub = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png
Telegram = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
YouTube = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
Netflix = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png
Disney+ = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Disney.png
Spotify = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png
Twitter = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png
Paypal = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/PayPal.png
Facebook = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Facebook.png
Reddit = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ULB.png
Discord = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Discord.png
TikTok = select, 节点选择, "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok.png
Docker = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Ninja.png
Cloudflare = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Cloudflare.png
哔哩哔哩 = select, DIRECT, "香港节点", "台湾节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/bilibili_3.png
国外媒体 = select, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming!CN.png
国内媒体 = select, DIRECT, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/StreamingCN.png
新浪微博 = select, DIRECT, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Weibo.png
微软服务 = select, DIRECT, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
苹果服务 = select, DIRECT, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
游戏平台 = select, DIRECT, 节点选择, "香港节点", "台湾节点", "美国节点", "韩国节点", "日本节点", "新加坡节点", "英国节点", icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png


# 外部节点
香港节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇭🇰)|(香港)|(Hong)|(HK), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

台湾节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇨🇳)|(台湾)|(Tai)|(TW), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png

美国节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇺🇸)|(美国)|(States)|(US), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

韩国节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇰🇷)|(韩国)|(Korea)|(KR), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png

日本节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇯🇵)|(日本)|(Japan)|(JP), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png

英国节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇬🇧)|(英国)|(United)|(UK), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_Kingdom.png

新加坡节点 = smart, include-other-group=节点订阅, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(🇸🇬)|(新加坡)|(Singapore)|(SG), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

# 机场1, 机场2, 机场3 名称对应下面的机场链接的名称
节点订阅 = smart, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png, include-other-group="机场1, 机场2, 机场3"

# 这里添加机场链接。这里的机场1、机场2、机场3 与上面节点订阅策略组中的include-other-group一一对应(名称可自定义)
机场1 = smart, policy-path=机场链接地址, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
机场2 = smart, policy-path=机场链接地址, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
机场3 = smart, policy-path=机场链接地址, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0


[Rule]
# 国内媒体PCDN拦截
#DOMAIN,tp2p.kg.qq.com,REJECT
#DOMAIN,musicps.p2p.qq.com,REJECT
#DOMAIN,p.tencentmusic.com,REJECT
#DOMAIN,twns.p2ptun.qq.com,REJECT
RULE-SET,https://raw.githubusercontent.com/uselibrary/PCDN/refs/heads/main/pcdn.list,REJECT // PCDN拦截

# 广告拦截规则（优先级最高）
#RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Advertising/Advertising_All.list,REJECT //广告拦截、防劫持、隐私保护
# 人工智能服务（高优先级）
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OpenAI/OpenAI.list,人工智能
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Claude/Claude.list,人工智能
RULE-SET,https://whatshub.top/rule/ai.list,人工智能
# 国外社交媒体服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Google/Google.list,Google // Google
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GitHub/GitHub.list,GitHub // GitHub
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Telegram/Telegram.list,Telegram // Telegram
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/YouTube/YouTube.list,YouTube // YouTube
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Twitter/Twitter.list,Twitter // Twitter
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Facebook/Facebook.list,Facebook // Facebook
# 流媒体服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Netflix/Netflix.list,Netflix // 奈飞
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Disney/Disney.list,Disney+ // Disney+
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Spotify/Spotify.list,Spotify // Spotify
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/TikTok/TikTok.list,TikTok // TikTok
# 其他国外服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Docker/Docker.list,Docker // Docker
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/PayPal/PayPal.list,Paypal // PayPal
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Reddit/Reddit.list,Reddit // Reddit
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Discord/Discord.list,Discord // Discord
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Cloudflare/Cloudflare.list,Cloudflare // Cloudflare
# 系统和企业服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Microsoft/Microsoft.list,微软服务 // 微软服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Apple/Apple.list,苹果服务 // 苹果服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Docker/Docker.list,Docker // Docker
# 国内服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/BiliBili/BiliBili.list,哔哩哔哩 // 哔哩哔哩
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Weibo/Weibo.list,新浪微博 // 新浪微博
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Alibaba/Alibaba.list,DIRECT // 阿里巴巴
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Tencent/Tencent.list,DIRECT // 腾讯服务
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Baidu/Baidu.list,DIRECT // 百度服务
# 综合媒体规则（谨慎启用）
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GlobalMedia/GlobalMedia.list,国外媒体
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaMedia/ChinaMedia.list,国内媒体
# 网络基础设施（最低优先级）
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Lan/Lan.list,DIRECT // 局域网
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaASN/ChinaASN.list,DIRECT // 中国ASN
# GEOIP等于CN，走直连
GEOIP,CN,DIRECT
FINAL,节点选择

[MITM]
skip-server-cert-verify = true
h2 = true
